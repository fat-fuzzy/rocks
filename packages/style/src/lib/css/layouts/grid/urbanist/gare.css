/**
 * GARES
 * Expand / Collapse content
 */

.gare-control {
	border-radius: 0;
}

[class*='gare:'].hidden {
	/* TODO: Use transforms here instead */
	--overlay-inline-size: 0;
	--overlay-block-size: 0;
}

[class*='gare:'].collapsed {
	--sidebar-width: var(--layout-sidebar-collapsed);
	--overlay-inline-size: var(--sidebar-width);
}

[class*='gare:'].width\:sm {
	--sidebar-width: var(--layout-sidebar-sm);
	--overlay-inline-size: var(--sidebar-width);
}

[class*='gare:'].width\:md {
	--sidebar-width: var(--layout-sidebar-md);
	--overlay-inline-size: var(--sidebar-width);
}

[class*='gare:'].width\:lg {
	--overlay-inline-size: calc(100vw - 3 * var(--grid-gap));
}

[class*='gare:'].height\:sm {
	--overlay-block-size: var(--overlay-height-sm);
}

[class*='gare:'].height\:md {
	--overlay-block-size: var(--overlay-height-md);
}

[class*='gare:'].height\:lg {
	--overlay-block-size: calc(
		100vh - 2 * var(--ui-header-height) - var(--grid-gap) -
			var(--outline-offset-md)
	);
}

[class*='gare:'].height\:full {
	--overlay-block-size: var(--overlay-height-lg);
}

@media screen and (min-width: 620px) {
	[class*='gare:'].width\:lg {
		--overlay-inline-size: calc(
			100vw - var(--layout-sidebar-md) - 4 * var(--grid-gap)
		);
	}
}

@media screen and (min-width: 935px) {
	[class*='gare:'].width\:lg {
		--sidebar-width: var(--layout-sidebar-md);
		--overlay-inline-size: var(--sidebar-width);
	}
}

details:has(.gare-control) {
	padding-block: 0;
	position: unset;
}

.l\:grid\:urbanist .gare\:est,
.l\:grid\:urbanist .gare\:ouest {
	--max-block-size: calc(100vh - var(--ui-header-height) - var(--grid-gap));
	block-size: fit-content;
	max-block-size: var(--max-block-size);
}

.l\:grid\:urbanist .gare\:est:is([open], .expanded) ff-reveal,
.l\:grid\:urbanist .gare\:ouest:is([open], .expanded) ff-reveal {
	--overlay-block-size: calc(
		100vh - 2 * var(--ui-header-height) - var(--grid-gap) -
			var(--outline-offset-md)
	);
	block-size: fit-content;
	max-block-size: var(--overlay-block-size);
	overflow: hidden auto;
}

.l\:grid\:urbanist .gare\:est:is([open], .expanded) ff-reveal,
.l\:grid\:urbanist .gare\:ouest:is([open], .expanded) ff-reveal {
	--overlay-block-size: var(--overlay-height-sm);
	position: absolute;
	block-size: fit-content;
	max-block-size: var(--overlay-block-size);
	inline-size: var(--overlay-inline-size);
	z-index: var(--layout-z-index-reveal);
	padding-block-end: var(--grid-gap);
}

.l\:grid\:urbanist .gare\:est:is([open], .expanded) ff-reveal {
	--overlay-inline-size: calc(
		var(--sidebar-width) - var(--grid-gap) - 2 * var(--outline-offset-md)
	);
	right: calc(var(--outline-offset-lg) + var(--grid-gap));
}

.l\:grid\:urbanist .gare\:ouest:is([open], .expanded) ff-reveal {
	--overlay-inline-size: calc(100vw - 3 * var(--grid-gap));
	left: var(--grid-gap);
	right: var(--grid-gap);
}

@media screen and (min-width: 620px) {
	.l\:grid\:urbanist .gare\:ouest:is([open], .expanded) ff-reveal {
		--overlay-inline-size: calc(
			100vw - var(--layout-sidebar-md) - 4 * var(--grid-gap)
		);
	}
}

@media screen and (min-width: 935px) {
	.l\:grid\:urbanist .gare\:est ff-reveal,
	.l\:grid\:urbanist .gare\:ouest ff-reveal,
	.l\:grid\:urbanist .gare\:est:is([open], .expanded) ff-reveal,
	.l\:grid\:urbanist .gare\:ouest:is([open], .expanded) ff-reveal {
		--overlay-block-size: var(--max-block-size);
	}

	.l\:grid\:urbanist .gare\:est ff-reveal,
	.l\:grid\:urbanist .gare\:est:is([open], .expanded) ff-reveal {
		--overlay-inline-size: calc(
			var(--sidebar-width) - var(--grid-gap) - 2 * var(--outline-offset-md)
		);
	}

	.l\:grid\:urbanist .gare\:ouest ff-reveal,
	.l\:grid\:urbanist .gare\:ouest:is([open], .expanded) ff-reveal {
		--overlay-inline-size: var(--sidebar-width);
	}

	.l\:grid\:urbanist .gare\:ouest ff-reveal,
	.l\:grid\:urbanist .gare\:ouest:is([open], .expanded) ff-reveal {
		left: 0;
		box-shadow: unset;
		z-index: 0;
	}

	.l\:grid\:urbanist .gare\:est .gare-control,
	.l\:grid\:urbanist .gare\:ouest .gare-control {
		inline-size: 100%;
		max-inline-size: var(--overlay-inline-size);
	}
}
