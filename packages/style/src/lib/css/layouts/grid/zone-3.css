/**
 * ZONE 3
 * Contains main content page context
 */
.zone\:3 {
	--grid-gap: 0;
	grid-area: zone-3;
	grid-template-areas:
		'zone-page    zone-page    zone-page'
		'zone-page    zone-page    zone-page'
		'zone-page    zone-page    zone-page';
	grid-template-columns: subgrid;
	align-content: flex-start;

	/**
 * ZONE Sketch
 * Contains canvas with controls
 */
	&.zone\:sketch {
		grid-template-rows: subgrid;
	}
}

.zone\:page {
	grid-area: zone-page;
	grid-template-areas:
		'zone-main      zone-main     zone-main'
		'zone-main      zone-main     zone-main'
		'page-context   page-context  page-context';
	grid-template-columns: subgrid;
	grid-template-rows: subgrid;
	padding-inline: var(--ui-size);
}

.zone\:main {
	grid-area: zone-main;
	grid-template-areas:
		'page-header    page-header    page-header'
		'page-main      page-main      page-main';
	grid-template-columns: subgrid;
	grid-template-rows: subgrid;
}

.zone\:3 {
	.page-header {
		grid-area: page-header;
	}

	.page-main {
		grid-area: page-main;
	}

	.page-context {
		grid-area: page-context;
		position: relative;
	}

	.page-nav {
		grid-area: page-nav;
	}
}

@media screen and (min-width: 620px) {
	.zone\:page {
		grid-template-areas:
			'zone-main     zone-main      page-context'
			'zone-main     zone-main      page-context'
			'zone-main     zone-main      page-context';
		grid-template-columns: subgrid;
	}

	.zone\:main {
		max-block-size: var(--max-block-size);
		overflow: hidden auto;
		scrollbar-width: thin;
	}

	.zone\:3 {
		&.zone\:sketch {
			grid-template-rows: auto 1fr auto;
		}

		.page-header {
			padding-inline: var(--ui-size) calc(2 * var(--ui-size));
		}

		.page-main {
			padding-inline: var(--ui-size) calc(2 * var(--ui-size));
			padding-block-end: var(--ui-header-height);
		}

		.page-context {
			--sidebar-width: var(--layout-sidebar-sm);
			position: unset;
			inline-size: var(--sidebar-width);
			block-size: fit-content;
			padding-inline: 0 var(--ui-size);
			max-block-size: var(--max-block-size);
			padding-block-end: var(--ui-header-height);
			overflow: hidden auto;
			scrollbar-gutter: stable;
			padding-block-end: var(--ui-header-height);
		}

		.page-context > .l\:reveal\:auto > ff-reveal {
			position: unset;
			max-inline-size: var(--sidebar-width);
		}

		.page-context ff-reveal.expanded:first-of-type {
			position: unset;
		}

		.page-context ff-reveal.expanded:first-of-type,
		.page-context ff-reveal.collapsed:first-of-type {
			margin-block-start: var(--outline-offset-lg);
			position: unset;
			block-size: fit-content;
			max-inline-size: var(--sidebar-width);
			box-shadow: unset;
			padding-inline: var(--ui-size-sm) 0;
		}
	}

	.zone\:main {
		grid-template-areas:
			'page-header   page-header'
			'page-main     page-main';
		block-size: 100%;
	}
}

@media screen and (min-width: 935px) {
	.zone\:3 {
		grid-template-areas:
			'zone-page    zone-page    page-context'
			'zone-page    zone-page    page-context'
			'zone-page    zone-page    page-context';
		grid-template-columns: subgrid;

		&.zone\:sketch {
			grid-template-rows: auto 1fr auto;
		}
	}

	.zone\:page {
		grid-template-areas: 'zone-main';
		grid-template-columns: subgrid;
		grid-column: span 2;
		grid-row: span 3;
	}

	.zone\:main {
		grid-template-areas:
			'page-header'
			'page-main';
		grid-template-columns: subgrid;
		grid-template-rows: auto 1fr;
	}

	.zone\:3 {
		.page-context .tags {
			max-inline-size: var(--sidebar-width);
		}

		.page-main {
			margin: 0;
			padding-inline: var(--ui-size);
		}

		.page-context {
			--sidebar-width: var(--layout-sidebar-sm);
			padding-inline: var(--ui-size) var(--outline-offset-lg);
		}
	}
}
