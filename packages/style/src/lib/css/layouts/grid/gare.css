/**
 * GARES : Positioning & Animations
 * Expand / Collapse content
 */

.gare-control {
	border-radius: 0;
}

details:has(.gare-control) {
	padding-block: 0;
	position: unset;
}

.gare\:ouest ff-reveal,
.gare\:ouest:is([open], .expanded) ff-reveal {
	left: var(--grid-gap);
	right: 0;
}

.gare\:est:is([open], .expanded) ff-reveal {
	right: 0;
}

details[class*='gare:'] > ff-reveal,
.l\:reveal[class*='gare:'] > .expanded > ff-reveal {
	margin-inline-start: var(--outline-offset-md);
}

[class*='-zone:'] > .navbar > nav form > [class*='l:switcher'],
[class*='-zone:'] > .app-context > form > [class*='l:switcher'],
[class*='-zone:'] > nav > form > [class*='l:switcher'] {
	--gap: var(--grid-gap);
}

/**
 * GARE EST / OUEST
 * Expand / Collapse westbound animation
 */

details.gare\:ouest > ff-reveal,
.l\:reveal > .collapsed > ff-reveal {
	--collapse-x: calc(-100% + var(--sidebar-width));
	transform: translate(var(--collapse-x), 0);
	transition: transform 250ms ease-in-out;
}

details[open].gare\:ouest > ff-reveal,
.l\:reveal.gare\:ouest > .expanded > ff-reveal,
details[open].gare\:est > ff-reveal,
.l\:reveal.gare\:est > .expanded > ff-reveal {
	--collapse-x: 0;
	transition: transform 200ms ease-out;
}

details.gare\:ouest > ff-reveal > *,
.l\:reveal > .collapsed > ff-reveal > *,
details.gare\:est > ff-reveal > *,
.l\:reveal > .collapsed > ff-reveal > * {
	transition: inline-size 200ms ease-in-out;
}

details[open].gare\:ouest > ff-reveal > *,
.l\:reveal > .expanded > ff-reveal > *,
details[open].gare\:est > ff-reveal > *,
.l\:reveal > .expanded > ff-reveal > * {
	transition: inline-size 250ms ease-in-out;
}

details.gare\:est > ff-reveal,
.l\:reveal > .collapsed > ff-reveal {
	--collapse-x: calc(100% + var(--sidebar-width));
	transform: translate(var(--collapse-x), 0);
	transition: transform 250ms ease-in-out;
}

/**
 * GARE NORD
 * Expand / Collapse northbound animation
 */
details.gare\:nord > ff-reveal,
.l\:reveal > .collapsed > ff-reveal {
	--collapse-y: calc(-1 * var(--ui-header-height));
	transform: translate(0, var(--collapse-y));
	transition: transform 250ms ease-in-out 200ms;
}

details.gare\:nord > ff-reveal > *,
.l\:reveal > .collapsed > ff-reveal > * {
	transition: block-size 200ms ease-in-out;
}

details[open].gare\:nord > ff-reveal,
.l\:reveal.gare\:nord > .expanded > ff-reveal {
	--collapse-y: 0;
	transition: transform 200ms ease-out;
}

details[open].gare\:nord > ff-reveal > *,
.l\:reveal > .expanded > ff-reveal > * {
	transition: block-size 250ms ease-in-out 200ms;
}

@media screen and (min-width: 620px) {
	details[class*='gare:'] > ff-reveal,
	.l\:reveal[class*='gare:'] > .expanded > ff-reveal {
		--collapse-x: 0;
	}
}
