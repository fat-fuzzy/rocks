[class^='l:reveal'] {
	--x-axis: 0;
	--y-axis: 0;
	--x-size: 100%;
	--y-size: fit-content;

	display: flex;
	flex-direction: column;
	inline-size: var(--x-size);
	block-size: var(--y-size);
	max-inline-size: var(--overlay-inline-size);
	color: var(--ink);
	z-index: var(--layout-z-index-layer);
	transition: inline-size 250ms ease-in-out;
	transition: block-size 250ms ease-in-out;

	&.collapsed {
		transition: block-size 250ms ease-in-out;
		transition: inline-size 250ms ease-in-out;
	}
}

[class*='l:reveal'] > form > [aria-expanded] {
	font-family: var(--font-family-heading);
	font-weight: var(--font-weight-ui);
	padding: var(--ui-size-sm) var(--ui-size);
}

ff-reveal {
	block-size: var(--y-size);
	max-block-size: var(--y-size);
	scrollbar-color: var(--thumb) var(--track);
	background-color: var(--shade, inherit);
	border-radius: var(--border-radius-lg);
	margin-block-start: var(--outline-offset-lg);
}

[class*='l:reveal'] > ff-control:has([aria-expanded='false']) + ff-reveal,
[class*='l:reveal'] > form:has([aria-expanded='false']) + ff-reveal {
	--x-size: 0;
	--y-size: 0;

	overflow: hidden;
	position: absolute;
	white-space: nowrap;
}

[class^='l:reveal'][class^='bp:'].l\:stack:only-child {
	inline-size: calc(var(--sidebar-width) - 2 * var(--gap));
}

@media screen and (min-width: 64rem) {
	[class*='l:reveal'] > form:has([aria-expanded='false']) + ff-reveal {
		margin-block-start: var(--outline-offset-lg);
	}
}
