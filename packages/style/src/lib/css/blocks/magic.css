.ff\:magic,
ff-icon {
	color: var(--ink);
	display: inline-flex;
	flex-wrap: nowrap;
	block-size: fit-content;
	inline-size: fit-content;
	font-size: var(--font-size);
	font-family: var(--font-family-ui);
	font-weight: var(--font-weight-ui);
}

.ff\:magic.w\:full {
	inline-size: 100%;
}

.ff\:callout[class*='magic'],
ff-callout[class*='magic'] {
	--ink: oklch(var(--lightness-contrast) var(--chroma-contrast) var(--hue));
	background-image: var(--magic-gradient);
	color: var(--ink);

	&:has(~ [class*='icon']) {
		margin-inline-end: var(--ui-size-sm);
	}
}

.ff\:magic.mask\:text {
	.ff\:callout[class*='magic'],
	ff-callout[class*='magic'] {
		--ink: oklch(var(--lightness-contrast) var(--chroma-contrast) var(--hue));
		background-image: unset;

		a,
		p,
		svg {
			background: var(--magic-gradient);
			background: var(--webkit-magic-gradient);
			background-clip: text;
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
		}
	}
}

.ff\:callout[class*='magic'].shape\:round,
ff-callout[class*='magic'].shape\:round {
	border-radius: 100vmax;
	justify-content: center;
	inline-size: 100%;
}

.magic\:bleu {
	--magic-gradient: linear-gradient(
		148deg,
		var(--color-gradient-000-start) 12% 12%,
		var(--color-gradient-000-middle) 49% 49%,
		var(--color-gradient-000-end) 88% 88%
	);
	--webkit-magic-gradient: -webkit-linear-gradient(
		148deg,
		var(--color-gradient-000-start) 12% 12%,
		var(--color-gradient-000-middle) 49% 49%,
		var(--color-gradient-000-end) 88% 88%
	);
	--lightness-contrast: var(--color-lightness-000);
	--chroma-contrast: var(--color-chroma-000);

	&[class*='svg'] {
		--magic-gradient: linear-gradient(
			148deg,
			var(--color-gradient-000-start) 22% 22%,
			var(--color-gradient-000-middle) 49% 49%,
			var(--color-gradient-000-end) 88% 88%
		);
	}
}

.magic\:sea {
	--magic-gradient: linear-gradient(
		148deg,
		var(--color-gradient-000-end) 22% 22%,
		var(--color-gradient-001-middle) 70% 70%,
		var(--color-gradient-000-middle) 88% 88%
	);
	--webkit-magic-gradient: -webkit-linear-gradient(
		148deg,
		var(--color-gradient-000-end) 22% 22%,
		var(--color-gradient-001-middle) 70% 70%,
		var(--color-gradient-000-middle) 88% 88%
	);
	--lightness-contrast: var(--color-lightness-600);
	--chroma-contrast: var(--color-chroma-600);

	&[class*='svg'] {
		--magic-gradient: linear-gradient(
			148deg,
			var(--color-gradient-000-end) 22% 22%,
			var(--color-gradient-001-middle) 49% 49%,
			var(--color-gradient-000-middle) 88% 88%
		);
	}
}

.magic\:dante {
	--magic-gradient: linear-gradient(
		148deg,
		var(--color-gradient-001-start) 12% 12%,
		var(--color-gradient-001-middle) 49% 49%,
		var(--color-gradient-001-end) 88% 88%
	);
	--webkit-magic-gradient: -webkit-linear-gradient(
		148deg,
		var(--color-gradient-001-start) 12% 12%,
		var(--color-gradient-001-middle) 49% 49%,
		var(--color-gradient-001-end) 88% 88%
	);
	--lightness-contrast: var(--color-lightness-600);
	--chroma-contrast: var(--color-chroma-600);

	&.purgatorio {
		--magic-gradient: radial-gradient(
			farthest-corner at 50% 95%,
			/* var(--color-gradient-000-start) 40% 40%, */
				var(--color-gradient-001-end) 40% 40%,
			var(--color-gradient-001-middle) 70% 70%,
			var(--color-gradient-001-start) 88% 88%
		);
		--lightness-contrast: var(--color-lightness-000);
		--chroma-contrast: var(--color-chroma-000);
		font-weight: var(--font-weight-semibold);
	}

	&.inferno {
		--magic-gradient: repeating-radial-gradient(
			farthest-corner at 50% 50%,
			var(--color-gradient-001-start) 20%,
			var(--color-gradient-001-end) 30%,
			var(--color-gradient-001-middle) 45%,
			var(--color-gradient-001-end) 60%,
			var(--color-gradient-001-start) 80%
		);
		font-weight: var(--font-weight-semibold);
	}
}

.magic\:dawn {
	--magic-gradient: linear-gradient(
		148deg,
		color(display-p3 0.92 0.64 0.77) 12% 12%,
		color(display-p3 0.71 0.65 0.96) 49% 49%,
		color(display-p3 0.63 0.82 0.83) 88% 88%
	);
	--webkit-magic-gradient: -webkit-linear-gradient(
		148deg,
		color(display-p3 0.92 0.64 0.77) 12% 12%,
		color(display-p3 0.71 0.65 0.96) 49% 49%,
		color(display-p3 0.63 0.82 0.83) 88% 88%
	);
	--lightness-contrast: var(--color-lightness-600);
	--chroma-contrast: var(--color-chroma-600);
	--hue: var(--color-theme-primary);

	&[class*='svg'] {
		--magic-gradient: linear-gradient(
			148deg,
			color(display-p3 0.92 0.64 0.77) 22% 22%,
			color(display-p3 0.71 0.65 0.96) 49% 49%,
			color(display-p3 0.63 0.82 0.83) 88% 88%
		);
	}
}

.magic\:dusk {
	--magic-gradient: linear-gradient(
		148deg,
		color(display-p3 0.75 0.16 0.41) 12% 12%,
		color(display-p3 0.21 0.14 0.51) 49% 49%,
		color(display-p3 0.24 0.54 0.55) 88% 88%
	);
	--webkit-magic-gradient: -webkit-linear-gradient(
		148deg,
		color(display-p3 0.75 0.16 0.41) 12% 12%,
		color(display-p3 0.21 0.14 0.51) 49% 49%,
		color(display-p3 0.24 0.54 0.55) 88% 88%
	);
	--lightness-contrast: var(--color-lightness-000);
	--chroma-contrast: var(--color-chroma-000);
	--hue: var(--color-theme-primary);

	&[class*='svg'] {
		--magic-gradient: linear-gradient(
			148deg,
			color(display-p3 0.75 0.16 0.41) 22% 22%,
			color(display-p3 0.21 0.14 0.51) 49% 49%,
			color(display-p3 0.24 0.54 0.55) 88% 88%
		);
	}
}

.magic\:fuzzy {
	--magic-gradient: radial-gradient(
		closest-side,
		var(--color-magic-primary) 50%,
		var(--color-magic-highlight),
		var(--color-magic-warning)
	);

	/* Used for text masking: only use linear gradients */
	--webkit-magic-gradient: -webkit-linear-gradient(
		148deg,
		var(--color-magic-primary),
		var(--color-magic-highlight),
		var(--color-magic-warning)
	);
	--lightness-contrast: var(--color-lightness-000);
	--chroma-contrast: var(--color-chroma-000);
	--hue: var(--color-theme-primary);

	&[class*='svg'] {
		--magic-gradient: radial-gradient(
			closest-side,
			var(--color-magic-highlight) 50%,
			var(--color-magic-primary),
			var(--color-magic-warning)
		);
	}
}

.magic\:feather {
	--hue-magic-feather: var(--color-theme-primary);
	--color-magic-feather: oklch(
		var(--lightness-contrast-magic-feather) var(--chroma-contrast-magic-feather)
			var(--hue-magic-feather)
	);
	--magic-gradient: linear-gradient(
		to top,
		transparent 0% 9%,
		var(--color-magic-feather) 50% 100%
	);

	/* Used for text masking: only use linear gradients */
	--webkit-magic-gradient: linear-gradient(
		to top,
		transparent 0% 9%,
		var(--color-magic-feather) 50% 100%
	);

	&[class*='svg'] {
		--magic-gradient: linear-gradient(
			to top,
			transparent 0% 9%,
			var(--color-magic-feather) 50% 100%
		);
	}
}

@media (prefers-color-scheme: dark) {
	.magic\:feather {
		--lightness-contrast-magic-feather: var(--color-lightness-dark-base);
		--chroma-contrast-magic-feather: var(--color-chroma-100);
	}
}

[class*='settings:night'],
[color-scheme='dark'] {
	.magic\:feather {
		--lightness-contrast-magic-feather: var(--color-lightness-dark-base);
		--chroma-contrast-magic-feather: var(--color-chroma-100);
	}
}

@media (prefers-color-scheme: light) {
	.magic\:feather {
		--lightness-contrast-magic-feather: var(--color-lightness-light-base);
		--chroma-contrast-magic-feather: var(--color-chroma-100);
	}
}

[class*='settings:day'],
[color-scheme='light'] {
	.magic\:feather {
		--lightness-contrast-magic-feather: var(--color-lightness-light-base);
		--chroma-contrast-magic-feather: var(--color-chroma-100);
	}
}
