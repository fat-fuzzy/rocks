/*  reveal-auto media queries */

@mixin switchToRowStyles_RevealNav($containerSize, $size) {
	@container reveal-nav-#{$size} (inline-size < #{$containerSize}) {
		[class*='l:reveal'].sticky {
			--y-size: calc(
				100vh - var(--size-ui-header-height) - var(--outline-offset-base)
			);
			position: sticky;
			top: var(--y-axis);
			z-index: 1;
			inline-size: var(--x-size);
			block-size: var(--y-size);

			&.show {
				--y-size: calc(100vh - var(--size-ui-header-height));
				--x-size: calc(var(--sidebar-width) - var(--outline-offset-base));
				/* transition: transform 250ms ease-in-out; */

				.content {
					--lightness-scrollbar: var(--color-lightness-000);
					--chroma-scrollbar: var(--color-chroma-000);
					--track: oklch(
						var(--lightness-scrollbar) var(--chroma-scrollbar) var(--hue)
					);
					--thumb: var(--ink);
					overflow: hidden auto;
					inline-size: var(--x-size);
					block-size: fit-content;
					transform: translateX(0);
					scrollbar-color: var(--thumb) var(--track);
					opacity: 1;
					transition: transform 100ms ease-in;
				}

				.content > * {
					inline-size: 100%;
				}
			}
			.form\:minimize {
				inline-size: var(--x-size);
			}

			&.left nav,
			&.right nav {
				display: flex;
				flex-direction: column;
				overflow: hidden auto;

				.form\:show {
					inline-size: calc(100% - 2 * var(--outline-offset-settings));
					align-self: center;
				}

				ul.depth-0 {
					padding-block: var(--ui-size) var(--ui-size-lg);
				}
			}

			&.minimize.left,
			&.minimize.right {
				--y-size: calc(100vh - var(--size-ui-header-height));
				--x-size: calc(var(--layout-sidebar-minimize) + 1ch);

				.content {
					--x-axis: calc(var(--x-size) * -1);
					inline-size: var(--x-size);
					max-inline-size: calc(100% - var(--outline-offset-base));
					border-inline-end: var(--border-width-md) solid var(--ink);
				}

				nav {
					.content {
						block-size: calc(100vh - var(--size-ui-header-height));
						overflow: hidden auto;
					}
					.content .depth-1 .show .content {
						block-size: fit-content;
						overflow: hidden auto;
					}
					.content .depth-1 .minimize .content {
						block-size: 0;
						overflow: hidden;
					}
				}
			}
		}
	}
}

@include switchToRowStyles_RevealNav(220px, '2xs');
@include switchToRowStyles_RevealNav(240px, 'xs');
@include switchToRowStyles_RevealNav(260px, 'sm');
@include switchToRowStyles_RevealNav(300px, 'md');
@include switchToRowStyles_RevealNav(320px, 'lg');
@include switchToRowStyles_RevealNav(360px, 'xl');
@include switchToRowStyles_RevealNav(380px, '2xl');
